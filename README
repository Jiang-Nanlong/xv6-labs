xv6 la6 copy-on-write
这个作业我感觉是最难的，花费时间最长的。
最开始的时候总想着当一个物理块的引用计数为1的时候就恢复写权限和关闭cow，但是后来才发现这样做不行。在uvmcopy函数中好处理，如果给新页表建立映射失败，而且物理块的引用数为1时，就可以修改为原来的pte 标志位。
但是在usertrap中没法这样做，比如一个物理块有两个引用，现在在usertrap函数中删除其中一个引用计数，分配一个新物理块。但是对于剩下的那个引用计数，我们并不能找到它的pte，也就没法恢复标志位，问题就出在这。
所以，即便是只剩一个引用，我们也只能重新分配新的物理块，释放掉原来那个。不过一定要确保在memmove之后释放物理块。
